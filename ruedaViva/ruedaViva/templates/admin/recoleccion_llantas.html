{% extends 'base/base.html' %}

{% block head %}
  {% load static %}
  <!-- Estilos de DataTables -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" />

  <!-- jQuery y DataTables -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
  <link href="{% static 'css/table.css' %}" rel="stylesheet" />
  {% load crispy_forms_tags %}
{% endblock %}

{% block content %}
  <div class="container-fluid p-0">
    <h1 class="h3 mb-3"><strong>Llantas</strong> Recolectadas</h1>
    <div class="container">
        <div class="row">
          {% for container in containers %}
            <div class="col-md-4 mb-4">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">{{ container.location }}</h5>
                  <p class="card-text">
                    <strong>Status:</strong> {{ container.status|capfirst }}
                    <br>
                    <strong>Creado:</strong> {{ container.created_at }}
                  </p>
                  <a href="{% url 'tire_data_detail' container.id %}" class="btn btn-primary">Ver Datos Recolectados</a>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>

  </div>
<!-- jQuery (necesario para DataTables) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>

  <script>
    $(document).ready(function () {
      $('#usuariosTable').DataTable({ 
        language: {
          url: '//cdn.datatables.net/plug-ins/1.11.5/i18n/Spanish.json'
        },
        pageLength: 10, // Número de registros por página
        lengthMenu: [
          [10, 25, 50, -1],
          [10, 25, 50, 'Todos']
        ]
      })
    })
  </script>
  <script src="{% static 'js/user.js' %}" type="module"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
{% endblock %}
